<html>
<head>
<meta http-equiv="content-Type" content="text/html;charset=utf-8" />
<meta name="keywords" content="BlueBrick, Help">
<meta name="description" content="The reference documentation for BlueBrick.">
<meta name="author" content="Alban Nanty">
<link rel="StyleSheet" href="../BlueBrick.css" type="text/css" media="screen">
<title>Group XML Description</title>
</head>
<body>
<h1>Group XML Description</h1>
<h2>Overview</h2>

<p>Since BlueBrick version 1.7, you can write an XML file that describes several parts or other groups arranged in predefined positions and orientations. Therefore, a group can be also seen as a shortcut to add several parts in one click. For example you can create a standard train module of 3x3 green baseplates with two straight railway lines on the bottom.</p>

<p>A future version of BlueBrick will provide a way to save the current selection as a group, but for now you need to edit the group XML file by hand. A workaround is to save the parts you want to group in a BBM file and then copy/paste the position and orientation code lines into the group XML file.</p>

<p>A group XML file can contain one or several references to other group XML files. However, you cannot create cyclic references, meaning a group XML file cannot make reference to itself, neither makes reference to file that makes reference to a file, etc... that makes reference to itself. BlueBrick detect cyclic references during the loading of the Brick Library and generates an error if one is found.</p>

<p>A group in the Brick Library do not need any associated gif image. BlueBrick recreated the image of the group from the description of the group at loading time to display it in the Brick Library. When adding the group on the map, BlueBrick uses the individual images of each part belonging to the group.</p>

<p>You can duplicate an existing XML file and modify it to work faster. Be careful, the XML tags are case sensitive. Every field except the "SubPartList" is optional, and the order of the fields does not matter. If one field is missing the default behavior is used instead.</p>

<p>Be carefull, in the XML file, <span class="Important">the first tag, root of the hierachy, must be "group"</span>. This is how BlueBrick makes the difference between a group and a part.</p>

<H2>File Encoding</H2>

<p>For a good cross platform compatibility, you should clearly indicate in the header of the xml file the encoding in which the file is saved. The prefered encoding is UTF-8, because it can save accentuated character for the part description in different languages. Use a text editor to save your XML file in UTF-8. For example with Windows Notepad, choose the correct encoding in the save dialog:</p>

<center><img src="XmlEncoding.png"></center>

<p>And make sure the header of your file starts with this line:</p>

<DIV CLASS="TechNote">
<PRE>
&lt;?xml version="1.0" <FONT COLOR="red">encoding="UTF-8"</font>?&gt;
</PRE>
</DIV>

<H2>Structure of the XML file</H2>

<p>If you don't know what an XML file is, and if you are not familiar with its syntax, it is strongly recommend to search for some additional help on internet. To summarize it in few words, this format organizes the data in a tree hierarchy by using tags which are identified by being enclosed with the characters &lt; and &gt;. Here is the general structure of an XML group file:</p>

<div class="TechNote">
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;group&gt;
    &lt;Author&gt;...&lt;/Author&gt;
    &lt;Description&gt;
        &lt;en&gt;...&lt;/en&gt;
        ...
    &lt;/Description&gt;
    &lt;SortingKey&gt;...&lt;/SortingKey&gt;
    &lt;NotListedInLibrary&gt;...&lt;/NotListedInLibrary&gt;
    &lt;OldNameList&gt;
        ...
    &lt;/OldNameList&gt;
    &lt;ImageURL&gt;...&lt;/ImageURL&gt;
    &lt;CanUngroup&gt;...&lt;/CanUngroup&gt;
    &lt;SnapMargin&gt;
        ...
    &lt;/SnapMargin&gt;
    &lt;SubPartList&gt;
        &lt;SubPart id="..."&gt;
            ...
        &lt;/SubPart&gt;
        ...
    &lt;/SubPartList&gt;
    &lt;GroupConnectionPreferenceList&gt;
        ...
    &lt;/GroupConnectionPreferenceList&gt;
&lt;/group&gt;</pre>
</div>


<h2>The different XML tags in details</h2>

<p>For a detailed description of each XML tags, read the following sections:</p>

<ul>
	<li><a href="Part_XML_Description_Author.htm">Specify the Author</A> (easy)</LI>
	<li><a href="Part_XML_Description_Description.htm">Add a description in different languages</A> (easy)</LI>
	<li><a href="Part_XML_Description_SortingKey.htm">Specify the sorting order</A> (easy)</LI>
	<li><a href="Part_XML_Description_NotListedInLibrary.htm">Specify if the group should be hidden</A> (easy)</LI>
	<li><a href="Part_XML_Description_OldName.htm">Keep a trace of the previous name of a group</A> (easy)</LI>
	<li><a href="Part_XML_Description_Image.htm">Specify an online reference Image</A> (easy)</LI>
	<li><a href="Group_XML_Description_CanUngroup.htm">Specify is this group can be ungrouped</A> (easy)</LI>
	<li><a href="Part_XML_Description_Margin.htm">Specify the Margins for Snaping</A> (medium difficulty)</LI>
	<li><a href="Group_XML_Description_SubPartList.htm">Describe the parts contained in the group</A> (medium difficulty)</LI>
	<li><a href="Group_XML_Description_GroupConnectionPreferenceList.htm">Describe the prefered connectivity inside the group</A> (medium difficulty)</LI>
<ul>


</body>
</html>
